---
- hosts: servers
  become: true
  become_method: sudo
  gather_facts: false

  vars_files: 
      - files/secret/credentials.yml

  tasks:
    - name: Launch the container with the frontend and connect it to the network
      docker_container: 
        name: ihm-projet-a
        ports:
          - "80:80"
        volumes:
          - /home/milica/Documents/projetA/student-list/website:/var/www/html
        env:
          USERNAME: "toto"
          PASSWORD: "python"
        image: php:apache
        networks:
            - name: "{{ networkname }}"
            